<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="codemirror/theme/dracula.css">
    <link rel="stylesheet" href="codemirror/addon/hint/show-hint.css">
    <link rel="stylesheet" href= "styles.css">

    <title>Query</title>
</head>

<body id="app" class="app ng-scope" data-ng-app="app" data-ng-controller="AppController as app" data-custom-page="" data-off-canvas-nav="">
            
    
    <div class="main-container">
        <!-- Left Navigation -->
        
        <section id="content" class="content-container animate-fade-up ng-scope" data-ng-controller="QueryTool as vm">
            

            <h3>Query Tool</h3>
            
            <div class="well">
                <div class="row">
                    <!-- Subheading -->
                    <h4 class="col-xs-12">
                        Please specifiy your query options and then the query itself below.
                    </h4>
                </div>
            </div>
            
            


            <form action="/Reporting/QueryTool" class="form form-horizontal ng-valid ng-dirty ng-valid-parse" data-ng-init="vm.InitializeQuery('', '')" method="post">    <div class="form-group">
                <label for="MaxRows" class="col-md-2 control-label">Max Rows:</label>
                <div class="col-md-3">
                    <select class="form-control" id="MaxRows" name="MaxRows"><option value="10">10</option>
                            <option value="100">100</option>
                            <option value="250">250</option>
                            <option value="500">500</option>
                            <option value="1000">1,000</option>
                            <option selected="selected" value="2500">2,500</option>
                            <option value="5000">5,000</option>
                            <option value="10000">10,000</option>
                    </select>
                </div>
                </div>
                <div class="form-group">
                    <label for="RowsPerPage" class="col-md-2 control-label">Rows Per Page:</label>
                    <div class="col-md-3">
                        <select class="form-control" id="RowsPerPage" name="RowsPerPage"><option value="10">10</option>
                            <option selected="selected" value="100">100</option>
                            <option value="250">250</option>
                            <option value="500">500</option>
                            <option value="1000">1,000</option>
                            <option value="2500">2,500</option>
                            <option value="5000">5,000</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="OutputType" class="col-md-2 control-label">Output Type:</label>
                    <div class="col-md-3">
                        <select class="form-control ng-pristine ng-untouched ng-valid" data-ng-change="vm.OutputTypeChanged(vm.OutputType)" data-ng-model="vm.OutputType" id="OutputType" name="OutputType"><option selected="selected" value="Grid">Grid (Default)</option>
                            <option value="Tab">Tab-Delimited</option>
                            <option value="Excel">Excel</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="SavedQueryId" class="col-md-2 control-label">Saved Query:</label>
                    <div class="col-md-5">
                        <select class="form-control ng-pristine ng-untouched ng-valid" data-ng-change="vm.SavedQueryIdChanged(vm.SavedQueryId)" data-ng-model="vm.SavedQueryId" id="SavedQueryId" name="SavedQueryId"><option value=""></option>
                            <option value="1">All Tables</option>
                            <option value="2">All Designations</option>
                            <option value="3">Monthly Email Metrics Report</option>
                            <option value="4">Invalidated Leads</option>
                            <option value="5">Daily Outlander Sport Campaign Query</option>
                            <option value="6">Targus Monthly Count</option>
                            <option value="7">Get Dealers With Unknown Market</option>
                            <option value="8">Market Performance - Month Over Month</option>
                            <option value="9">Active Mitsubishi Dealer File</option>
                            <option value="10">Source Sales Conversion Metrics</option>
                            <option value="11">Source ID Lookup</option>
                            <option value="12">Lead Delivery Route Report (CRM's)</option>
                            <option value="13">Lead Delivery Route Report (Email)</option>
                            <option value="14">Failed Leads in a Given Period</option>
                            <option value="15">Retrieve iCertified Dealers</option>
                            <option value="16">Concierge Lead Volume by Bucket</option>
                            <option value="17">Selling Dealer By Lead ID</option>
                            <option value="18">crm by dealer</option>
                            <option value="19">YTD Close Rate by Source</option>
                            <option value="20">E-Lead Diamond Rewards Bonus</option>
                            <option value="21">Targus Validation Results</option>
                            <option value="22">SourceType YTD Report</option>
                            <option value="23">Close Rates by Source</option>
                            <option value="24">Active Concierge Contacts </option>
                            <option value="25">Concierge SessionIDs</option>
                            <option value="26">Dealer Code - Zone - Area - District</option>
                            <option value="27">Lead Info minus ADF</option>
                            <option value="28">Ignition One Leads + Sales</option>
                            <option value="29">Count of Leads Per HH</option>
                            <option value="30">Ignition One Sales</option>
                            <option value="31">Unique Leads by 3PL Source</option>
                            <option value="32">Lead Echo</option>
                            <option value="33">Lancer Evolution FE Leads</option>
                            <option value="34">Count of Dispositions by CRM</option>
                            <option value="35">Dealer Response %s </option>
                            <option value="36">CRM Tools by Dealer</option>
                            <option value="37">Targus-Invalid LeadIDs</option>
                            <option value="38">Active Concierge Contacts</option>
                            <option value="39">Ignition One Lead Details</option>
                            <option value="40">3rd Party Brand Lead Data</option>
                            <option value="41">Dealer By Market</option>
                            <option value="42">Source Performance Report</option>
                            <option value="43">Targus Code</option>
                            <option value="44">Autobytel Sales Source Conversion Metrics</option>
                        </select>
                    </div>
                </div>
                <div class="form-group" data-ng-class="{ 'has-error': false }">
                    <label for="Query" class="col-md-2 control-label">Query:</label>
                    <div class="col-md-10">
                        <div class="text-danger">
                        </div>
                        <textarea id="Query" name="Query" rows="10" class="form-control ng-valid ng-dirty ng-valid-parse ng-touched" data-ng-model="vm.Query">SELECT SQL_NO_CACHE DISTINCT</textarea>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <p class= "instructions">HIT CTRL + SPACE for autocompletion</p>
                        <button type="submit" name="submit" class="btn btn-success ng-binding">
                            <i class="fa fa-table icon-pad-right"></i>
                            Run Query
                        </button>
                        <button id="SaveQuery" type="button" class="btn btn-primary" data-ng-show="vm.ShowSaveQuery" data-ng-click="app.modal.OpenModalWindow({ template: '/Reporting/QueryTool/SaveReport?query=' + vm.GetEncodedQuery() })">
                            <i class="fa fa-floppy-o icon-pad-right"></i>
                            Save Query
                        </button>
                        
                    </div>
                </div>
            </form>
                
        </section>
    </div>
        

    <script src="codemirror/lib/codemirror.js"></script>
    
    <script src="codemirror/mode/sql/sql.js"></script>
    <script src="codemirror/addon/hint/show-hint.js"></script>
    <script src="codemirror/addon/hint/sql-hint.js"></script>
    





    <script src="script.js"></script>
</body>


</html>